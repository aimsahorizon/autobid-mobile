import '../../domain/entities/kyc_document_entity.dart';

class KycDocumentModel extends KycDocumentEntity {
  const KycDocumentModel({
    required super.id,
    required super.userId,
    required super.statusId,
    required super.statusName,
    required super.firstName,
    required super.lastName,
    super.middleName,
    required super.email,
    super.phoneNumber,
    super.dateOfBirth,
    super.sex,
    super.region,
    super.province,
    super.city,
    super.barangay,
    super.streetAddress,
    super.zipcode,
    super.nationalIdNumber,
    required super.nationalIdFrontUrl,
    required super.nationalIdBackUrl,
    super.secondaryGovIdType,
    super.secondaryGovIdNumber,
    super.secondaryGovIdFrontUrl,
    super.secondaryGovIdBackUrl,
    super.proofOfAddressType,
    super.proofOfAddressUrl,
    required super.selfieWithIdUrl,
    super.documentType,
    super.submittedAt,
    super.reviewedAt,
    super.reviewedBy,
    super.reviewedByName,
    super.rejectionReason,
    super.adminNotes,
    super.expiresAt,
    super.queueId,
    super.assignedTo,
    super.assignedToName,
    super.priority,
    super.slaDeadline,
    required super.createdAt,
    required super.updatedAt,
  });

  factory KycDocumentModel.fromJson(Map<String, dynamic> json) {
    return KycDocumentModel(
      id: json['id'] as String,
      userId: json['user_id'] as String,
      statusId: json['status_id'] as String,
      statusName: json['status_name'] as String? ?? 'pending',
      firstName: json['first_name'] as String,
      lastName: json['last_name'] as String,
      middleName: json['middle_name'] as String?,
      email: json['email'] as String,
      phoneNumber: json['phone_number'] as String?,
      dateOfBirth: json['date_of_birth'] != null
          ? DateTime.parse(json['date_of_birth'] as String)
          : null,
      sex: json['sex'] as String?,
      region: json['region'] as String?,
      province: json['province'] as String?,
      city: json['city'] as String?,
      barangay: json['barangay'] as String?,
      streetAddress: json['street_address'] as String?,
      zipcode: json['zipcode'] as String?,
      nationalIdNumber: json['national_id_number'] as String?,
      nationalIdFrontUrl: json['national_id_front_url'] as String,
      nationalIdBackUrl: json['national_id_back_url'] as String,
      secondaryGovIdType: json['secondary_gov_id_type'] as String?,
      secondaryGovIdNumber: json['secondary_gov_id_number'] as String?,
      secondaryGovIdFrontUrl: json['secondary_gov_id_front_url'] as String?,
      secondaryGovIdBackUrl: json['secondary_gov_id_back_url'] as String?,
      proofOfAddressType: json['proof_of_address_type'] as String?,
      proofOfAddressUrl: json['proof_of_address_url'] as String?,
      selfieWithIdUrl: json['selfie_with_id_url'] as String,
      documentType: json['document_type'] as String?,
      submittedAt: json['submitted_at'] != null
          ? DateTime.parse(json['submitted_at'] as String)
          : null,
      reviewedAt: json['reviewed_at'] != null
          ? DateTime.parse(json['reviewed_at'] as String)
          : null,
      reviewedBy: json['reviewed_by'] as String?,
      reviewedByName: json['reviewed_by_name'] as String?,
      rejectionReason: json['rejection_reason'] as String?,
      adminNotes: json['admin_notes'] as String?,
      expiresAt: json['expires_at'] != null
          ? DateTime.parse(json['expires_at'] as String)
          : null,
      queueId: json['queue_id'] as String?,
      assignedTo: json['assigned_to'] as String?,
      assignedToName: json['assigned_to_name'] as String?,
      priority: json['priority'] as int?,
      slaDeadline: json['sla_deadline'] != null
          ? DateTime.parse(json['sla_deadline'] as String)
          : null,
      createdAt: DateTime.parse(json['created_at'] as String),
      updatedAt: DateTime.parse(json['updated_at'] as String),
    );
  }

  Map<String, dynamic> toJson() {
    return {
      'id': id,
      'user_id': userId,
      'status_id': statusId,
      'status_name': statusName,
      'first_name': firstName,
      'last_name': lastName,
      'middle_name': middleName,
      'email': email,
      'phone_number': phoneNumber,
      'date_of_birth': dateOfBirth?.toIso8601String(),
      'sex': sex,
      'region': region,
      'province': province,
      'city': city,
      'barangay': barangay,
      'street_address': streetAddress,
      'zipcode': zipcode,
      'national_id_number': nationalIdNumber,
      'national_id_front_url': nationalIdFrontUrl,
      'national_id_back_url': nationalIdBackUrl,
      'secondary_gov_id_type': secondaryGovIdType,
      'secondary_gov_id_number': secondaryGovIdNumber,
      'secondary_gov_id_front_url': secondaryGovIdFrontUrl,
      'secondary_gov_id_back_url': secondaryGovIdBackUrl,
      'proof_of_address_type': proofOfAddressType,
      'proof_of_address_url': proofOfAddressUrl,
      'selfie_with_id_url': selfieWithIdUrl,
      'document_type': documentType,
      'submitted_at': submittedAt?.toIso8601String(),
      'reviewed_at': reviewedAt?.toIso8601String(),
      'reviewed_by': reviewedBy,
      'reviewed_by_name': reviewedByName,
      'rejection_reason': rejectionReason,
      'admin_notes': adminNotes,
      'expires_at': expiresAt?.toIso8601String(),
      'queue_id': queueId,
      'assigned_to': assignedTo,
      'assigned_to_name': assignedToName,
      'priority': priority,
      'sla_deadline': slaDeadline?.toIso8601String(),
      'created_at': createdAt.toIso8601String(),
      'updated_at': updatedAt.toIso8601String(),
    };
  }
}
